{% extends 'headoffice/base_template.html' %}

{% block main_content %}

{% load static %}

<section class="content ">
    <div class="container-fluid  ">

<style>
  body {
    font-size: small;
    font-family: Poppins;
  }
</style>
   
        
            <!-- ./col -->
            
        </div>
 
     
          <!-- /.row -->
          <div class="row">
            <div class="col-md-12">
              <!-- general form elements -->
              <div class="card  ">
                  <div class="card-header">
                      <h3 class="card-title" style="font-weight: bold;"><i class="fas fa-database mx-3"></i>criminal database</h3>

                      <div class="card-tools">
                      <div class="input-group input-group-sm" style="width: 300px;">
                

                      <form class="form"  method="GET" action="{% url 'search_person' %}">
                          <label for="search">
                              <input required=""  value="{{ query }}" autocomplete="off" placeholder="search names" name="q" id="search" type="text">
                              <div class="icon">
                                  <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="swap-on">
                                      <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linejoin="round" stroke-linecap="round"></path>
                                  </svg>
                                  <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="swap-off">
                                      <path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linejoin="round" stroke-linecap="round"></path>
                                  </svg>
                              </div>
                              <button type="reset" class="close-btn">
                                  <svg viewBox="0 0 20 20" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg">
                                      <path clip-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" fill-rule="evenodd"></path>
                                  </svg>
                              </button>
                          </label>
                      </form>
                      <style>
                        /* From Uiverse.io by satyamchaudharydev */ 
/* From uiverse.io by @satyamchaudharydev */
/* this button is inspired by -- whatsapp input */
/* == type to see fully interactive and click the close buttom to remove the text  == */

.form {
  --input-bg: #FFf;
 /*  background of input */
  --padding: 1.5em;
  --rotate: 80deg;
 /*  rotation degree of input*/
  --gap: 2em;
  /*  gap of items in input */
  --icon-change-color: #15A986;
 /*  when rotating changed icon color */
  --height: 40px;
 /*  height */
  width: 300px;
  padding-inline-end: 1em;
 /*  change this for padding in the end of input */
  background: var(--input-bg);
  position: relative;
  border-radius: 4px;
}

.form label {
  display: flex;
  align-items: center;
  width: 100%;
  height: var(--height);
}

.form input {
  width: 100%;
  padding-inline-start: calc(var(--padding) + var(--gap));
  outline: none;
  background: none;
  border: 0;
}
/* style for both icons -- search,close */
.form svg {
  /* display: block; */
  color: #111;
  transition: 0.3s cubic-bezier(.4,0,.2,1);
  position: absolute;
  height: 15px;
}
/* search icon */
.icon {
  position: absolute;
  left: var(--padding);
  transition: 0.3s cubic-bezier(.4,0,.2,1);
  display: flex;
  justify-content: center;
  align-items: center;
}
/* arrow-icon*/
.swap-off {
  transform: rotate(-80deg);
  opacity: 0;
  visibility: hidden;
}
/* close button */
.close-btn {
  /* removing default bg of button */
  background: none;
  border: none;
  right: calc(var(--padding) - var(--gap));
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #111;
  padding: 0.1em;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  transition: 0.3s;
  opacity: 0;
  transform: scale(0);
  visibility: hidden;
}

.form input:focus ~ .icon {
  transform: rotate(var(--rotate)) scale(1.3);
}

.form input:focus ~ .icon .swap-off {
  opacity: 1;
  transform: rotate(-80deg);
  visibility: visible;
  color: var(--icon-change-color);
}

.form input:focus ~ .icon .swap-on {
  opacity: 0;
  visibility: visible;
}

.form input:valid ~ .icon {
  transform: scale(1.3) rotate(var(--rotate))
}

.form input:valid ~ .icon .swap-off {
  opacity: 1;
  visibility: visible;
  color: var(--icon-change-color);
}

.form input:valid ~ .icon .swap-on {
  opacity: 0;
  visibility: visible;
}

.form input:valid ~ .close-btn {
  opacity: 1;
  visibility: visible;
  transform: scale(1);
  transition: 0s;
}

                      </style>
                      </div>
                      </div>
                  </div>
                <div class="card-body">
                  <div class="card-body table-responsive p-0">
                    <style>
                      .excel-table {
                        border-collapse: collapse;
                        width: 100%;
                        font-family: Poppins;
                      }
                    
                      .excel-table th,
                      .excel-table td {
                        border: 1px solid #ddd;
                        padding: 8px;
                        text-align: center;
                        font-weight: normal;
                      }
                    
                      .excel-table th {
                        background-color: #f4f4f4;
                        font-weight: bold;
                        color: #333;
                      }
                    
                      .excel-table tbody tr:nth-child(even) {
                        background-color: #f9f9f9;
                      }
                    
                      .excel-table tbody tr:hover {
                        background-color: #ddd;
                      }
                    
                      .excel-table th, 
                      .excel-table td {
                        border: 1px solid #d4d4d4;
                      }
                    
                      .btn {
                        padding: 5px 10px;
                        margin: 0 2px;
                      }
                    </style>
                    
                    <table class="table table-hover text-nowrap excel-table mb-3">
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>Name</th>
                          <th>Address</th>
                          <th>Wanted Status</th>
                          <th>Last Known Location</th>
                          <th>Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for suspect in page_obj %}
                        <tr>
                          <td>{{ forloop.counter }}</td>
                          <td>{{ suspect.name }}</td>
                          <td>{{ suspect.address }}</td>
                          <td style="font-weight: bold;">
                            {% if suspect.wanted_status == 'yes' %}
                              <i class="fas fa-exclamation-triangle text-danger"></i> Wanted
                            {% else %}
                              <i class="fas fa-check-circle text-success"></i> Not Wanted
                            {% endif %}
                          </td>
                          <td>{{ suspect.last_seen_location }}</td>
                          <td>
                            <button class="btn btn-info btn-sm" style="font-weight: bold;">
                              <i class="fas fa-exclamation-triangle"></i> Crime
                            </button>
                            <button class="btn btn-success btn-sm" style="font-weight: bold;">
                              <i class="fas fa-bell"></i> Ping
                            </button>
                            <button class="btn btn-danger btn-sm" style="font-weight: bold;">
                              <i class="fas fa-database"></i> NRB DB
                            </button>
                          </td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                    
                    <nav aria-label="Page navigation my-3 ">
                      <ul class="pagination justify-content-center">
                        {% if page_obj.has_previous %}
                          <li class="page-item">
                            <a class="page-link" href="?page=1" aria-label="First">
                              <span aria-hidden="true">&laquo;&laquo;</span>
                            </a>
                          </li>
                          <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
                              <span aria-hidden="true">&laquo;</span>
                            </a>
                          </li>
                        {% else %}
                          <li class="page-item disabled">
                            <a class="page-link" aria-disabled="true">&laquo;</a>
                          </li>
                        {% endif %}
                  
                        {% for i in page_obj.paginator.page_range %}
                          {% if page_obj.number == i %}
                            <li class="page-item active"><a class="page-link">{{ i }}</a></li>
                          {% else %}
                            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                          {% endif %}
                        {% endfor %}
                  
                        {% if page_obj.has_next %}
                          <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
                              <span aria-hidden="true">&raquo;</span>
                            </a>
                          </li>
                          <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}" aria-label="Last">
                              <span aria-hidden="true">&raquo;&raquo;</span>
                            </a>
                          </li>
                        {% else %}
                          <li class="page-item disabled">
                            <a class="page-link" aria-disabled="true">&raquo;</a>
                          </li>
                        {% endif %}
                      </ul>
                    </nav>
                </div>
                </div>
              </div>
            </div>
          </div>
    </div>
                      {% endblock main_content %}